# Specification Generator

Инструмент предназначен для подготовки корпоративных технических заданий и сопутствующей архитектурной документации для любого проекта (в данном случае - на примере проекта системы управления подарочными сертификатами). Проект работает поверх набора директив из `prompt.txt` и автоматизирует создание следующих артефактов:

- краткое описание проекта и контекста;
- архитектурная схема с указанием микросервисов и Kafka-потоков;
- OpenAPI-спецификации граничных API;
- ER- и sequence-диаграммы, flowcharts и BPMN-схемы;
- подробный список задач по командам с Definition of Done, Acceptance Criteria и тест‑кейсами.

Процесс ориентирован на событийную архитектуру с брокером Kafka: сервисы взаимодействуют через доменные топики, HTTP используется только для синхронных запросов фронтов. Все решения фиксируются в соответствующих файлах (`specs/adr.md`, `specs/workarounds.md`, и т.д.), а уточнения от заказчика собираются в формате FAQ (`specs/clarification.md`).

Папка `specs/` содержит сгенерированные материалы, диаграммы и инструменты (включая Docker-команды). Для визуализации диаграмм используются мермаид-файлы, из которых формируются изображения в `specs/diagrams/` и `specs/bpmn/`.

## Ключевые файлы и каталоги

- `prompt.txt` — основной регламент: последовательность шагов, правила уточнения требований и корпоративные ограничения (Kafka, event-driven подход).
- `README.md` — обзор проекта и указания по структуре артефактов.
- `specs/summary.md` — краткое описание проекта и границы внедрения.
- `specs/clarification.md` — журнал вопросов и ответов с заказчиком в формате FAQ.
- `specs/architecture.md` / `specs/architecture.mmd` — текстовое описание архитектуры и схема взаимодействия сервисов (Mermaid).
- `specs/openapi.yaml` — единая OpenAPI-спецификация граничных API сервиса процессинга сертификатов.
- `specs/erd.md` / `specs/erd.mmd` — ER-диаграмма с описанием сущностей и связей, а также исходник для визуализации.
- `specs/sequences.md` / `specs/sequences.mmd` — сценарии последовательностей (текстовое описание и Mermaid-диаграммы).
- `specs/flow.mmd`, `specs/flows.md` — flowchart-процессы и сопроводительный текст.
- `specs/bpmn/` — BPMN-схемы процессов (исходники и экспортированные изображения).
- `specs/tasks.md` — детальный план задач по командам с DoD, Acceptance Criteria и тест-кейсами.
- `specs/adr.md` — архитектурные решения (ADR) по ключевым вопросам.
- `specs/changelog.md` — журнал изменений по проектной документации.
- `specs/tools/` — вспомогательные скрипты и docker-команды, используемые при генерации артефактов.
- `specs/diagrams/` — сгенерированные изображения диаграмм (Mermaid/BPMN).

## Как использовать

0. Закинуть в ИИ файл `prompt.txt`
1. Обсудить с ИИ новые требования или уточнения — ответы фиксируются в `specs/clarification.md`.
2. Попросить ИИ обновить спецификации и диаграммы согласно инструкциям `prompt.txt`.
3. При новых решениях ИИ сам дополняет ADR (`specs/adr.md`) и ведёт changelog.
4. При расширении инструментария ИИ автоматически добавляет полезные команды в `specs/tools/`.
5. Если ИИ только обсуждает изменения, но не вносит их - попросите его внести изменения в проект явно.

