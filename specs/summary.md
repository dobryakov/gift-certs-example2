# Краткое описание проекта

## Цель проекта

- Внедрить корпоративный процесс управления подарочными сертификатами с единым мастер-сервисом процессинга, интегрированным с интернет-магазином, POS и BI.
- Обеспечить событийную интеграцию с существующими микросервисами и потоками Kafka, минимизируя точечные HTTP-взаимодействия.
- Гарантировать прозрачный аудит операций с сертификатами и доставку CVC кода покупателю через SMS.
- Обеспечить невозможность повторной продажи одного и того же кода сертификата независимо от канала.

## Контекст

- Организация уже использует сервисы `OnlineStore`, `POS`, `Payments`, `Orders`, `CRM`, обменивающиеся событиями через Kafka-топики `All_SalesOrder`, `All_Payments`, `All_Clients`.
- Подарочные сертификаты отсутствуют в текущем ландшафте и требуют выделенного доменного сервиса.
- Операции с сертификатами оцениваются примерно в 100 действий в день, без экстремальных пиков.

## Основной функционал

- Массовая загрузка и хранение предгенерированных номеров сертификатов.
- Управление жизненным циклом сертификатов: выпуск, активация после полной оплаты, частичное/полное списание, возврат, аннулирование.
- Синхронные операции проверки баланса и списания из фронтов интернет-магазина и POS.
- Отправка CVC в SMS при покупке сертификата.
- Формирование событийных потоков для аудита и BI.

## Не входит в проект

- Реализация отдельного UI-портала для сотрудников (используются существующие фронты POS и сайта).
- Поддержка офлайн-режима, антифрод-проверок и лимитов операций.
- Интеграции с внешними системами отчётности, песочницы и миграции существующих сертификатов.
- Требования по дополнительному шифрованию или маскированию данных сверх стандартов компании.

## Требования и ограничения

- Корпоративный стандарт: обмен доменных событий через Kafka; HTTP допускается только для синхронных запросов фронтов.
- Обязателен аудит всех операций с сертификатами и возможность выгрузки данных в BI через события.
- Номенклатура сертификатов: электронные и физические, не персонализированные, балансные, без ограничений по сроку действия и валюте.
- Массовая загрузка кодов выполняется внешним процессом и должна поддерживаться сервисом процессинга.
