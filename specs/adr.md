# Architecture Decision Records

## ADR-001: Название сервиса подарочных сертификатов

- **Дата:** 2025-11-08
- **Статус:** Принято
- **Контекст:** Требовалось зафиксировать единое название для микросервиса, отвечающего за обработку подарочных сертификатов, чтобы использовать его во всех артефактах и интеграциях.
- **Решение:** Использовать имя «Сервис Процессинга Подарочных Сертификатов».
- **Последствия:** Все спецификации, диаграммы, задачи и интеграции должны ссылаться на данный сервис под указанным названием.

## ADR-002: Консолидация топиков состояний сертификатов

- **Дата:** 2025-11-08
- **Статус:** Принято
- **Контекст:** Заказчик попросил объединить отдельные топики `GiftCertificates.Online` и `GiftCertificates.Offline` в один поток, чтобы упростить поддержку и аналитическую обработку.
- **Решение:** Использовать единый топик `GiftCertificates.State` с обязательными атрибутами `channel`, `origin`, `status`, что позволяет сегментировать события на стороне потребителей.
- **Последствия:** Все интеграции должны подписываться на `GiftCertificates.State` и фильтровать сообщения по каналу; ACL и мониторинг обновляются в соответствии с новой схемой.
