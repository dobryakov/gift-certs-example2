# Architecture Decision Records

## ADR-001: Название сервиса подарочных сертификатов

- **Дата:** 2025-11-08
- **Статус:** Принято
- **Контекст:** Требовалось зафиксировать единое название для микросервиса, отвечающего за обработку подарочных сертификатов, чтобы использовать его во всех артефактах и интеграциях.
- **Решение:** Использовать имя «Сервис Процессинга Подарочных Сертификатов».
- **Последствия:** Все спецификации, диаграммы, задачи и интеграции должны ссылаться на данный сервис под указанным названием.

## ADR-002: Консолидация топиков событий сертификатов

- **Дата:** 2025-11-08
- **Статус:** Принято
- **Контекст:** Заказчик попросил объединить отдельные топики (`GiftCertificates.Online`, `GiftCertificates.Offline`, `GiftCertificate.Commands`, `GiftCertificate.Notifications`, `GiftCertificate.Audit`) в один поток, чтобы упростить поддержку и соответствовать корпоративным правилам.
- **Решение:** Использовать единый топик `GiftCertificates.Stream`, в котором публикуются объекты `GiftCertificate` с обязательными атрибутами `status`, `channel`, `origin`, `correlationId`, позволяющими сегментировать состояния на стороне потребителей.
- **Последствия:** Все интеграции подписываются на `GiftCertificates.Stream` и фильтруют сообщения по статусу; ACL и мониторинг обновлены с учётом консолидации.
