| Ключ | Значение |
| --- | --- |
| Проект | использование подарочных сертификатов в екоммерс энтерпрайз организации |
| Существующие сервисы | интернет-магазин, оффлайн-точки продаж (POS), платёжный сервис (Payments), учётная система (Orders), CRM-система (Clients) |
| Существующие потоки Kafka | All_SalesOrder, All_Payments, All_Clients |
| Отсутствует | сервис процессинга подарочных сертификатов, потоки по сертификатам, UI для покупателей и внутренних пользователей |
| Сертификаты | электронные и физические, балансные, не персональные |
| Жизненный цикл | выпуск, активация, частичные/полные списания, возвраты/аннулирования |
| Хранение | мастер-сервис процессинга хранит состояние сертификатов |
| Ограничения | нет ограничений по сроку действия и валютам |
| Сценарии | проверка баланса, частичная/полная оплата |
| UI роли | продавец оффлайн точки, оператор поддержки |
| Внешние интеграции | вне рамок |
| Аудит | обязателен, аналитика/дашборды вне проекта |
| Выпуск сертификатов | массовые загрузки прегенерированных номеров |
| Активация | при полной оплате покупки сертификата |
| Частичное списание | остаток сохраняется на том же сертификате |
| Лимиты/антифрод | не требуются |
| Оффлайн режим | вне рамок |
| SMS | клиент получает CVC по SMS при покупке, SLA не критичен |
| Расширения сервисов | предложить варианты интеграции |
| Песочницы/миграции | вне рамок |
| Формат кодов | без предпочтений |
| Нагрузка | ~100 операций с сертификатами в день |
| Атрибуты | предложить структуру атрибутов сертификатов и транзакций |
| История состояний | желательно хранить, горизонт не обязателен |
| Логирование | предложить состав журнала |
| UI ограничения доступа | не требуется |
| Маскирование | не требуется |
| Поток в BI | необходим отдельный Kafka-поток из сервиса процессинга |
| Запрет двойной продажи | заказчик требует исключить повторную реализацию одного кода сертификата как физической карты и как электронного сертификата |
| Последнее обновление | 2025-11-08 |
